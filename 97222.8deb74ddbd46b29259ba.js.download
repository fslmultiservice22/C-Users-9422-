(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[97222],{91746:e=>{e.exports={}},881383:(e,t,n)=>{"use strict";n.d(t,{getLiveRegionInstance:()=>o,initLiveRegion:()=>r});n(50959);class i{constructor(e,t=[]){this._messagesQueue=[],this._alternate=!1,this._renderedMessage=null,this._idCounter=0,this._containers=[...t],this._type=e}setContainers(e){this._containers=[...e]}addMessage(e,t=0){const n=this._generateId(),i={id:n,message:e,destroyTimeout:this._calculateDestroyTimeout(e,t)};return this._messagesQueue.push(i),this._renderedMessage||this._renderMessage(),{...i,type:this._type,destroy:this._getDestroyMessageCallback(n)}}destroyAll(){var e;this._messagesQueue=[],clearTimeout(null===(e=this._renderedMessage)||void 0===e?void 0:e.destroyTimer),this._containers.forEach((e=>{e.innerText=""})),this._renderedMessage=null,this._alternate=!1}_generateId(){return`live-region-${this._type}-${this._idCounter++}`}_calculateDestroyTimeout(e,t=0){const n=50*e.trim().length+200,i=250*e.trim().length;return Math.min(Math.max(n,t),i)}_findById(e){var t;return(null===(t=this._renderedMessage)||void 0===t?void 0:t.id)===e?this._renderedMessage:this._messagesQueue.find((t=>t.id===e))}_getDestroyMessageCallback(e){return async t=>{const n=this._findById(e);return!!n&&(n.renderedTo?!!t&&(this._removeRenderedMessage(),this._renderMessage(),!0):(this._removeFromQueue(n),!0))}}_removeRenderedMessage(){var e;const t=null===(e=this._renderedMessage)||void 0===e?void 0:e.renderedTo;t&&(t.innerText=""),this._renderedMessage=null}_removeFromQueue(e){this._messagesQueue=this._messagesQueue.filter((t=>t!==e))}async _renderMessage(){if(!this._containers.length||!this._messagesQueue.length)return;const e=this._alternate?this._containers[0]:this._containers[1],t=this._messagesQueue.shift();let n;e.innerText=t.message;const i=new Promise(((e,i)=>{n=setTimeout((()=>{var n;if((null===(n=this._renderedMessage)||void 0===n?void 0:n.id)===t.id)return this._removeRenderedMessage(),void this._renderMessage().then(e);i("Currently rendered message is not the one that you 're trying to destroy")}),t.destroyTimeout)}));this._renderedMessage={...t,renderedTo:e,destroyTimer:n,destroyPromise:i},this._alternate=!this._alternate}}class s extends i{}const a=new class{constructor(){this.isInited=!1,this._politeQueue=new s("polite"),this._assertiveQueue=new s("assertive")}renderTo(e,t=!1){return t&&this.destroy(),this._init(e)}destroy(){this._politeQueue.destroyAll(),this._assertiveQueue.destroyAll(),this.isInited=!1}sayPolitely(e,t){return this.isInited?this._politeQueue.addMessage(e,t):null}interrupt(e,t){return this.isInited?this._assertiveQueue.addMessage(e,t):null}_init(e){if(!e)return!1;if(this.isInited)return!1;return!!this._setContainers(e)&&(this.isInited=!0,!0)}_setContainers(e){const t=document.getElementById(e);if(!t)return!1;const n=t.querySelectorAll('[aria-live="polite"]'),i=t.querySelectorAll('[aria-live="assertive"]');return!(!n||2!==n.length||!i||2!==i.length)&&(this._politeQueue.setContainers([n[0],n[1]]),
this._assertiveQueue.setContainers([i[0],i[1]]),!0)}};function o(){return a}function r(e){return o().renderTo(e),o()}},690936:(e,t,n)=>{"use strict";n.d(t,{openStreamMiniPlayer:()=>s});var i=n(320058);function s(e){Promise.all([n.e(88230),n.e(86256),n.e(81910),n.e(91901),n.e(3845),n.e(97610),n.e(75514),n.e(745),n.e(1480),n.e(51701)]).then(n.bind(n,693567)).then((t=>{const n=i.MiniPlayerSessionStorage.getItem(),s=n?JSON.parse(n):null,a=s?s.time:e.currentTime?e.currentTime:void 0,o=s?s.speed:e.currentSpeed?e.currentSpeed:void 0,r=s?s.currentVolume:e.currentVolume?e.currentVolume:void 0;t.renderStreamMiniPlayer({stream:e.stream,currentTime:a,currentSpeed:o,currentVolume:r,isTheaterMode:e.isTheaterMode,setMiniModeOnPageStream:e.setMiniModeOnPageStream})}))}},320058:(e,t,n)=>{"use strict";n.d(t,{MiniPlayerSessionStorage:()=>s});const i="stream-mini-player";var s;!function(e){e.getItem=function(){return window.sessionStorage.getItem(i)},e.setItem=function(e,t,n,s){const a={time:t,data:e,url:null==e?void 0:e.url,speed:n,currentVolume:s};window.sessionStorage.setItem(i,JSON.stringify(a))},e.removeItem=function(){window.sessionStorage.removeItem(i)}}(s||(s={}))},46277:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FeatureId:()=>i,DialogAction:()=>s,errorCode:()=>o,trackSocialNetworkEvent:()=>r,createExtendedSolution:()=>c});var i,s,a=n(776734);!function(e){e.CreateIdea="free__create_public_idea",e.CreateComment="free__create_comment",e.CreateMessageChat="free__create_message_chat"}(i||(i={})),function(e){e.Open="open",e.OpenSolution="open_solution"}(s||(s={}));const o="permissions_denied";async function r(e,t){var n;const i=await(0,a.getTracker)();if(i){const s=null===(n=window.user.id)||void 0===n?void 0:n.toString();i.trackPermissionDialog(e,t,s||"")}}function c(e,t){var n;const i=null===(n=e.match(/\d+\//gm))||void 0===n?void 0:n[0];return e.replace(i||"",i+t)}},296992:(e,t,n)=>{"use strict";n(505881);var i=n(777754),s=n(508846),a=n(527538),o=n(779665),r=n(345848),c=n(226722),l=n(685459),u=n.n(l),d=n(272001);const h=(0,d.getLogger)("UserSessions");let m,g=0,f=!1,_=!1;const p=new(u());function v(e){if(f){ChartApiInstance.connect({tokenGrabSession:e});const t=ChartApiInstance.connectDfd;return f=!1,m&&(t.then((function(){(0,r.trackEvent)("Auth","Different Device Active Recovery"),m.destroy(),m=void 0})),t.catch((function(){f=!0})),f||p.emitEvent("Session recovered")),t}}c.TVXWindowEvents.on("session_captured",(function(){v()})),o.pushStreamMultiplexer.on("auth",(function(e){if(is_authenticated&&user&&user.session_hash&&"active_session_changed"===e.type&&e.timestamp>g){if(g=e.timestamp,user.session_hash===e.source_session&&e.source_session in e.changes&&"cycled"===e.changes[e.source_session].a&&(user.session_hash=e.changes[e.source_session].h),user.session_hash in e.changes&&"logout"===e.changes[user.session_hash].a)return void(e.source_session!==user.session_hash&&(t=e.device_info,(0,s.createGoProDialog)({feature:"sessionLogout",customParams:t,actions:[{action:a.PredefinedAction.Close,text:i.t(null,{context:"input"},n(309633))}]})))
;if(!e.active_sessions)return;let o=!1;for(let t=e.active_sessions.length-1;t>=0;t--)user.session_hash===e.active_sessions[t]&&(o=!0);o?m&&v():function(e){if(f)return;let t=!1;if(ChartApiInstance&&(ChartApiInstance.disconnect(),t=!0),t){(0,r.trackEvent)("Auth","Different Device Active Dialog"),f=!0,h.logNormal("Different device connection detected: "+JSON.stringify(e));const t=function(){_=!1;const e=v(!0);e&&e.then((function(){c.TVXWindowEvents.emit("session_captured")}))};if(!_){const o={feature:"sessionLock",customParams:e,actionAfterClose:t,actions:[{action:a.PredefinedAction.Close,text:i.t(null,void 0,n(436598)),onClick:t}]};(0,s.createGoProDialog)(o).then((()=>{_=!0}))}p.emitEvent("Session broken down.")}}(e.device_info)}var t}));n(583912),n(849289);var w=n(77034),y=n.n(w),b=n(799786);y().safari&&(0,b.createGroup)().add({desc:"Prevent exit native fullscreen",hotkey:27,handler:()=>{}});n(928841),n(326001);var T=n(386981),P=n.n(T),S=n(733094),I=n(638456),L=n(19281);function M(e){const t=e.target,n=t.closest&&t.closest(":link");n&&n.target&&n.relList&&n.relList.add("noopener")}var C=n(43464),D=n(261030);function k(){var e;const t=null===(e=(0,I.desktopAppVersion)())||void 0===e?void 0:e.match(/1.0.(\d+)/);((0,I.isWindows)()||(0,I.isMac)())&&t&&Number(t[1])<=15&&async function(){const{showUpdateAppDialog:e,updateDesktopAppDialogKey:t,dialogHideValue:i}=await Promise.all([n.e(90599),n.e(18619),n.e(88230),n.e(86256),n.e(81910),n.e(91901),n.e(13249),n.e(96246),n.e(46951),n.e(65216),n.e(75514),n.e(745),n.e(52328),n.e(60246),n.e(7333)]).then(n.bind(n,158734));window.sessionStorage.getItem(t)!==i&&e()}()}var A=n(890740);async function E(){const e=await Promise.all([n.e(18619),n.e(21009),n.e(91217),n.e(37742),n.e(75514),n.e(13830),n.e(59805)]).then(n.bind(n,770025));await e.showSurveyToast()&&async function(){(await Promise.all([n.e(88230),n.e(86256),n.e(81910),n.e(91901),n.e(96246),n.e(18513),n.e(75514),n.e(745),n.e(36320)]).then(n.bind(n,564655))).renderSurveyDialog()}(),(0,A.fetch)("/api/v1/users/accept-survey/",{method:"POST",credentials:"include"})}var x=n(320058),O=n(690936),R=n(632446),V=n(833813),$=n(881383),N=n(606911),F=(n(659863),n(185675)),Q=n(798062),j=n(691805),G=n(588948);function B(){if(!window.GOOGLE_CLIENT_ID||(0,G.getFreshInitData)().googleSigninPopupDisabled)return;(0,j.appendScript)("https://accounts.google.com/gsi/client"),window.handleGoogleCredentialResponse=e=>{const t=(0,Q.getUrlParams)();(0,r.trackEvent)("Login","one tap sign in"),window.open(`/accounts/complete/android-jwt/?token=${e.credential}&feature_source=google_one_tap&utm_source=${t.utmsource}&utm_medium=${t.utmmedium}`)};const e=document.createElement("div");if(e.setAttribute("id","g_id_onload"),e.setAttribute("data-prompt_parent_id","one-tap-signin-container"),e.setAttribute("data-client_id",window.GOOGLE_CLIENT_ID),e.setAttribute("data-callback","handleGoogleCredentialResponse"),window.TradingView.onChartPage){const e=document.createElement("div");e.setAttribute("id","one-tap-signin-container"),e.style.top="36px",
e.style.position="fixed",e.style.right="39px",e.style.zIndex="9999",document.body.appendChild(e)}document.body.appendChild(e)}var q=n(125226);var H=n(599596),W=n(664224),Y=n(18493),J=n(115127),U=n(241300),z=n(12481),X=n(49437),K=n(175203),Z=n(777491);const ee="activeBrowserTabsCounter";let te=null;class ne{constructor(){this._isMasterTab=!1,this._lastState={tabs:[],ts:0},this._sendReport=(0,z.default)(((e,t)=>{this._isMasterTab&&(K.telemetry.sendReport("site","browsers_tabs_ratio_frame",{value:e}),K.telemetry.sendReport("site","browsers_tabs_count_frame",{value:t}))}),2e4),this._guid=(0,Z.guid)(),this._initTimer()}unregisterTab(){clearInterval(this._timerId);const e=this._getState();e.tabs=e.tabs.filter((e=>e[0]!==this._guid)),e.ts=Date.now(),this._setState(e)}static getInstance(){return null===te&&(te=new ne),te}_checkIsMaster(e){const t=0===e.tabs.length,n=Date.now()-e.ts>2e4;return t||n||e.tabs[0][0]===this._guid}_countVisibleTabsRatio(e){const t=e.reduce(((e,t)=>e+("visible"===t[1]?1:0)),0);return Math.round(t/e.length*100)}_getState(){const e=X.TVLocalStorage.getItem(ee),t=null!==e?JSON.parse(e):this._lastState;return this._lastState=t,t}_setState(e){X.TVLocalStorage.setItem(ee,JSON.stringify(e))}_pulse(){const e=this._lastState.tabs,t=document.visibilityState,n=this._getState(),i=n.tabs.find((e=>e[0]===this._guid)),s=this._isMasterTab;this._isMasterTab=this._checkIsMaster(n);const a=!s&&this._isMasterTab;if(void 0!==i&&i[1]!==t&&(i[1]=t),a)n.tabs=[[this._guid,t]],n.ts=Date.now(),this._isMasterTab=!0,this._sendReport(100,1);else if(this._isMasterTab){n.ts=Date.now();const t=this._countVisibleTabsRatio(e),i=this._countVisibleTabsRatio(n.tabs);t!==i&&this._sendReport(i,n.tabs.length)}else void 0===i&&n.tabs.push([this._guid,t]);this._setState(n)}_initTimer(){this._pulse(),this._timerId=setInterval((()=>this._pulse()),1e4)}}var ie=n(46277),se=n(891343),ae=n(823127);const oe=(0,d.getLogger)("Chart.Base");var re;if(window.initData.lfs&&(re=P().prototype.disconnect,P().prototype.disconnect=function(e){e||re.call(this)}),loginStateChange.subscribe(window,(function(e){if(user&&is_authenticated){TVLocalStorage.getItem("paid_account_username")&&TVLocalStorage.removeItem("paid_account_username");const e=TVLocalStorage.getItem("last_username"),t=TVLocalStorage.getItem("previous_username");e!==user.username&&(TVLocalStorage.setItem("last_username",user.username),e&&e!==t&&(TVLocalStorage.setItem("previous_username",e),(0,J.paidAccountCheck)({isNeedCancelButton:!0}).catch((()=>{}))))}else{const e=TVLocalStorage.getItem("paid_account_username");e&&Promise.resolve().then(n.bind(n,963644)).then((t=>t.showSignModal({source:"Paid Account Popup",username:e})))}e||(0,L.reconnectChartApi)()})),ae((function(){"#signin"===window.location.hash?Promise.resolve().then(n.bind(n,963644)).then((e=>e.showSignModal({source:"Redirect"}))):"#signup"===window.location.hash&&Promise.resolve().then(n.bind(n,963644)).then((e=>e.showSignModal({mode:"signup",source:"Redirect"}))),ae(".tv-control-material-input").tvControlMaterial(),
ae(".js-time-upd").timeUpdate(),(0,I.checkPageType)("mobile")?D.cookieSettingsReady.resolve():(0,C.initCookiesNotification)().then((()=>{const e=(0,U.placementFromPageLocation)();e&&(0,F.initTrialToast)("chart").then((async()=>{if((0,R.enabled)(V.ProductFeatures.NO_SPONSORED_ADS))return;let t=!0;"ru"===window.locale&&(0,q.isFeatureEnabled)("careers_toast")&&(t=!await async function(){return(await Promise.all([n.e(18619),n.e(21009),n.e(91217),n.e(37742),n.e(3663),n.e(75514),n.e(13830),n.e(13087)]).then(n.bind(n,550847))).initNotification()}()),t&&await Promise.all([Promise.all([n.e(21009),n.e(34023),n.e(80802),n.e(34136)]).then(n.bind(n,580802)),Promise.all([n.e(91217),n.e(37742),n.e(75514),n.e(13830),n.e(94291)]).then(n.bind(n,13830))]).then((([t,n])=>{t.platformPlacement.setPlacement(e.placement).setToasts(n.globalToasts).addTargeting("placement",e.targeting).display()}))}))})),(0,q.isFeatureEnabled)("desktop_version_notification_enabled")&&(0,I.isDesktopApp)()&&k(),window.initData.show_idc_dialog?n.e(9726).then(n.bind(n,653564)).then((e=>{e.showIdcAgreementDialog()})):(window.initData.banned_payments&&Promise.all([n.e(36037),n.e(43082),n.e(36956),n.e(4100),n.e(50251),n.e(85783),n.e(25977),n.e(50762),n.e(39694),n.e(29201)]).then(n.bind(n,363170)).then((({warningDialog:e})=>{e({title:i.t(null,void 0,n(300963)),content:"<p>"+i.t(null,void 0,n(440957))+"</p>",closeButtonText:i.t(null,{context:"input"},n(309633))}).open()})),window.initData.show_user_survey&&E())})),TradingView.onChartPage||(oe.logNormal("low quality mode is enabled"),ChartApiInstance.enableLowQualityMode()),window.pro=new S.Pro(window.shopConf),loginStateChange.fire(!0),Promise.all([n.e(52328),n.e(38578)]).then(n.t.bind(n,252328,23)).then((({default:e})=>{e.init()})),!window.is_authenticated){const e=e=>{"1"!==TVLocalStorage.getItem(e)&&((0,H.createReferralWelcome)().then((function(e){e.open()})),TVLocalStorage.setItem(e,"1"))};let t,n={};const i=(0,H.getReferralParams)();i&&"direct_affiliate_params"===i.key?n=i.params:i&&"_referralProgramId"===i.key&&(t=i.params);const s=n.aff_id;if(s||t){const i=window.location.hostname.split("."),a=i.slice(1,i.length).join(".");s&&s.length<=32?((0,r.trackEvent)("Affiliate Program","Referral Visit (Direct)",s),Y.PartnerAPI.addClick({target_link:n.targetLink,aff_id:n.aff_id,aff_sub:n.aff_sub,aff_source:n.source,aff_unique1:n.aff_unique1,aff_sub2:n.aff_sub2,aff_sub3:n.aff_sub3,aff_click_id:n.aff_click_id,file_id:n.file_id,url_id:n.url_id}).catch((e=>oe.logNormal(`Service Partner Program - request error - ${e}`))),se.set("direct_affiliate_params",JSON.stringify(n),90,"/",a?`.${a}`:""),e("seen_by_direct_link")):t&&t.length<=150&&(se.set("_referralProgramId",t,0,"/",a?`.${a}`:""),e("seen_by_referral_program_link"))}}if(document.addEventListener("click",M,!0),n.e(14436).then(n.bind(n,231326)).then((e=>{(new e.GdprNotification).showIfNotAccepted()})),n.e(72226).then(n.bind(n,727655)).then((e=>{e.openSupportDialogOnLoad()})),n.e(14309).then(n.bind(n,688457)).then((e=>{e.openPaymentOrderDialogOnLoad()})),
n.e(99140).then(n.bind(n,130179)).then((e=>{e.openCoinsDialogOnLoad()})),(async()=>{await Promise.all([n.e(20146),n.e(18619),n.e(78707),n.e(96972),n.e(75398),n.e(71140),n.e(36037),n.e(43082),n.e(36720),n.e(75667),n.e(37908),n.e(97676),n.e(26024),n.e(9725),n.e(13871),n.e(12768),n.e(98781),n.e(27488),n.e(99039),n.e(38184),n.e(69893),n.e(56246),n.e(22682),n.e(1632),n.e(75514),n.e(20651),n.e(32036),n.e(98065),n.e(5952),n.e(20321),n.e(65899),n.e(89568)]).then(n.t.bind(n,201880,23))})(),!window.is_authenticated&&(0,q.isFeatureEnabled)("google-one-tap-signin")&&(I.CheckMobile.iOS()?setTimeout((()=>{B()}),6e4):B()),window.initData.offlineAlertEventsOnInit&&!window.TradingView.onChartPage&&Promise.all([n.e(75514),n.e(89793),n.e(91046)]).then(n.bind(n,938908)).then((({tryInitAlertsNotifications:e})=>e())),async function(){(await Promise.all([n.e(18619),n.e(21009),n.e(91217),n.e(37742),n.e(46079),n.e(75514),n.e(13830),n.e(97276)]).then(n.bind(n,193e3))).initNotification()}(),document.addEventListener("DOMContentLoaded",(function(){document.addEventListener("click",(e=>{if(e.target.matches(".js-open-support-dialog")&&((0,W.showSupportDialog)(),e.preventDefault()),e.target.search&&!1===window.location.pathname.startsWith("/support")){const t=(0,Q.getQueryParams)(e.target.search.substring(1));if("solution"in t){const n=t.solution.match(/[a-zA-Z\_]+/g);(0,W.showSupportDialog)({solutionId:parseInt(t.solution,10)}),n&&!e.defaultPrevented&&(0,ie.trackSocialNetworkEvent)(n[0],ie.DialogAction.OpenSolution),e.preventDefault()}}}))})),(0,q.isFeatureEnabled)("count-browser-tabs")){const e=ne.getInstance();window.addEventListener("unload",(()=>e.unregisterTab()))}try{var ce=x.MiniPlayerSessionStorage.getItem();null!==ce&&(window.location.pathname.startsWith("/streams")&&0!==window.location.pathname.split("/streams/")[1].length?x.MiniPlayerSessionStorage.removeItem():(0,O.openStreamMiniPlayer)({stream:JSON.parse(ce).data}))}catch(e){}(0,$.initLiveRegion)("aria-live-regions-wrapper"),window.user.is_partner&&(0,N.initIrsToast)("tv-coins-partner-dialog")},241300:(e,t,n)=>{"use strict";n.d(t,{placementFromPageLocation:()=>s});var i=n(36921);function s(){if(window.TradingView.onChartPage)return{placement:i.Placement.Platform,targeting:i.PlacementTargeting.Platform};const e=window.location.pathname;return e.startsWith("/heatmap")?{placement:i.Placement.HeatMap,targeting:i.PlacementTargeting.HeatMap}:/^\/(crypto-|forex-)?screener\//.test(e)?{placement:i.Placement.Screener,targeting:i.PlacementTargeting.Screener}:void 0}},142544:(e,t,n)=>{"use strict";var i=n(823127);const s=n(272001).getLogger("CommonUI.CreateTVBlockPlugin");e.exports.createTvBlockWithInstance=function(e,t){if(e&&t)return e=e.toString(),function(a,o,r){var c,l,u;return"get"===a?c=o:(l=o,"object"==typeof a&&void 0===o?(l=a,a="init"):"string"!=typeof a&&(a="init")),"getInstance"===a?i(this).eq(0).data(e):"destroy"===a?(u=i(this).eq(0).data(e))?void("function"==typeof u.destroy?(n(u,"destroy",l),
i(this).eq(0).removeData(e)):s.logError("[Block Plugin] "+e+" does not support destroy command")):void console.warn("[Block Plugin] Trying to execute destroy method of "+e+" but it has not been inited"):"get"===a?(u=i(this).eq(0).data(e))?"function"==typeof u[c]?n(u,c,r):u[c]:void console.warn("[Block Plugin] Trying to get prop or execute method of "+e+" but it has not been inited"):i(this).each((function(){var o=i(this),r=o.data(e);void 0===r&&(r=void 0===l?t(o):t(o,l),o.data(e,r)),"init"!==a&&("function"==typeof r[a]?n(r,a,l):s.logError("[Block Plugin] "+e+" does not support command "+a))}))};function n(e,t,n){return void 0===n?e[t]():e[t](n)}}},928841:(e,t,n)=>{"use strict";n.d(t,{controlMaterial:()=>o});n(91746);var i=n(142544),s=n(823127);class a{constructor(e,t={}){var n=e.prop("tagName").toLowerCase(),i=e.prop("readonly"),a=e.prop("disabled"),o=`tv-control-material-${n}`,r=s(document.createElement("span")).addClass(`${o}__label`).text(e.attr("placeholder")||""),c=s(document.createElement("div")).addClass(`${o}__wrap`),l=e.get(0);if(l&&l.classList){for(var u=[],d=0;d<l.classList.length;d++){var h=l.classList[d];if(h.includes(o)){const e=h.replace(o,"");e&&u.push(e)}}for(d=0;d<u.length;d++)r.addClass(`${o}__label${u[d]}`),c.addClass(`${o}__wrap${u[d]}`)}e.attr("placeholder","").removeClass(`tv-control-${n}`).addClass(`tv-control-material-${n}__control `).wrap(c).after(r),this.$el=e.parent(),e.on("focus",(()=>{i||a||r.addClass("i-up")})),e.on("blur",(()=>{""===e.val()&&r.removeClass("i-up")})),e.on("change",(()=>{""!==e.val()&&r.addClass("i-up")})),this.$el.on("click",(()=>{e.focus()})),""!==e.attr("value")&&void 0!==e.attr("value")&&r.addClass("i-up")}}function o(e,t){return new a(s(e),t)}s.fn.tvControlMaterial=(0,i.createTvBlockWithInstance)("tv-control-material",(function(e,t){return new a(e,t)}))},488427:(e,t,n)=>{"use strict";n.r(t),n.d(t,{agoDateFormatter:()=>m,destroy:()=>f,getFormattedDataByDate:()=>d,jQueryCompatibleAgoDateFormatter:()=>h,jQueryCompatibleDestroy:()=>g,shortFormat:()=>_});var i=n(777754),s=n(298297);const a={L:"MMM D",LL:"YYYY MMM D",LLL:"HH:mm - YYYY MMM D"},o={ja:a,ko:a};function r(e){return 6e4-e%6e4}function c(e){const t=36e5;return t-e%t}function l(e){const t=864e5;return t-e%t}function u(e){const t=e.getAttribute("data-ago-date-timer");t&&clearTimeout(+t)}function d({date:e,forceAgoFormat:t,customDateFormat:n,customDateFormatLocale:i}){s.relativeTimeThreshold("h",24),"number"==typeof e&&(e=new Date(e));const a=s(new Date).diff(e),u=function(e){let t=200;if((e=Math.floor(e/6e4))<60)t+=r(e);else if(e<1440)t+=c(e);else{if(!(e<43200))return 0;t+=l(e)}return t}(a),d=o[window.language];let h="",m={L:"L",LL:"LL",LLL:"LLL"};d&&(m=d),i&&(m.LLL=i),h=t||Math.round(a/36e5)<24?s(e).fromNow():n?s(e).format(n):e.getFullYear()===(new Date).getFullYear()?s(e).format(m.L):s(e).format(m.LL);return{diff:a,formattedDate:s(e).format(m.LLL),text:h,updateTimeout:u}}function h(e,t,n,i,s){const a=Array.from(e);for(const e of a)m(e,t,n,i,s)}function m(e,t,n,i,s){
const{diff:a,formattedDate:o,text:r,updateTimeout:c}=d({date:t,forceAgoFormat:n,customDateFormat:s}),l=e.parentElement;if(null!==l&&l.classList.toggle("just-now",a<45e3),e.setAttribute("title",o),e.textContent=r,c){u(e);const n=setTimeout((()=>{m(e,t)}),c);e.setAttribute("data-ago-date-timer",n.toString())}else e.removeAttribute("data-ago-date-timer");if(i){const t=e.closest(".js-visible-after-ago-formatter-inited");null!==t&&t.classList.remove("i-invisible","js-visible-after-ago-formatter-inited")}}function g(e){const t=Array.from(e);for(const e of t)f(e)}function f(e){u(e);const t=Array.from(e.querySelectorAll("[data-ago-date-timer]"));for(const e of t)u(e)}function _(e){let t=Math.floor(e/6e4),s="",a=0;return t<60?(s=(t<1?0:t)+i.t(null,{context:"date_diff_short"},n(242893)),a=r(e)):t<1440?(t=Math.floor(t/60),s=t+i.t(null,{context:"date_diff_short"},n(197929)),a=c(e)):t<43200?(t=Math.floor(t/1440),s=t+i.t(null,{context:"date_diff_short"},n(291059)),a=l(e)):t<15768e3?(t=Math.floor(t/43200),s=t+i.t(null,{context:"date_diff_short"},n(198738))):(t=Math.floor(t/15768e3),s=t+i.t(null,{context:"date_diff_short"},n(630424))),a&&(a+=200),{text:s,timeout:a}}},185675:(e,t,n)=>{"use strict";n.d(t,{initTrialToast:()=>c,trialToast:()=>r});var i=n(985919);var s=n(638456),a=n(314802);class o{showAfterTimeout(e,t){!window.is_authenticated||i.OFFERS.trial in window.user.available_offers?this._timeoutId=setTimeout((async()=>{if(window.is_authenticated&&!(i.OFFERS.trial in window.user.available_offers))return void t();const{globalToasts:s}=await Promise.all([n.e(91217),n.e(37742),n.e(75514),n.e(13830),n.e(94291)]).then(n.bind(n,13830));!async function(e,t,i){(await Promise.all([n.e(18619),n.e(21009),n.e(79161),n.e(13886),n.e(64278)]).then(n.bind(n,413886))).showTrialNotification(e,t,i)}(s,e,t)}),3e4):t()}clear(){clearTimeout(this._timeoutId)}static getInstance(){return o._instance||(o._instance=new o),o._instance}}function r(){return o.getInstance()}function c(e){return(0,a.isOnMobileAppPage)("any")||s.CheckMobile.Android()||window.TVD||!window.TradingView.onChartPage?Promise.resolve():new Promise((t=>{r().showAfterTimeout(e,(()=>(t(),Promise.resolve())))}))}},599596:(e,t,n)=>{"use strict";n.d(t,{createReferralWelcome:()=>s,getReferralParams:()=>a});var i=n(798062);function s(){return Promise.all([n.e(18619),n.e(86256),n.e(78707),n.e(36037),n.e(37908),n.e(36956),n.e(13249),n.e(4100),n.e(50251),n.e(85783),n.e(24091),n.e(48354),n.e(75514),n.e(25977),n.e(84768),n.e(39694),n.e(36057)]).then(n.bind(n,373241)).then((e=>e.createReferralWelcomeDialog()))}function a(){const e=(0,i.getUrlParams)(),t=e.share_your_love,n=e.aff_id;if(n&&n.length<=32){const t={aff_id:n,target_link:`${window.location.origin}${window.location.pathname}`};return[{key:"source",maxLength:64},{key:"aff_sub",maxLength:64},{key:"url_id",maxLength:256},{key:"file_id",maxLength:256},{key:"aff_sub2",maxLength:64},{key:"aff_sub3",maxLength:64},{key:"aff_unique1",maxLength:64},{key:"aff_click_id",maxLength:64}].forEach((n=>{const i=n.key
;e[i]&&e[i].length<=n.maxLength&&(t[i]=e[i])})),{key:"direct_affiliate_params",params:t}}return t&&t.length<=150?{key:"_referralProgramId",params:t}:null}},606911:(e,t,n)=>{"use strict";n.d(t,{TITLE_IRS:()=>s,initIrsToast:()=>o});var i=n(62802);const s="irs_form_toast";class a{async show(e,t){const a=i.getValue(s);if(!1===(a&&Number(a)<Date.now()-864e5))return;const{globalToasts:o}=await Promise.all([n.e(91217),n.e(37742),n.e(75514),n.e(13830),n.e(94291)]).then(n.bind(n,13830));!async function(e,t){(await Promise.all([n.e(18619),n.e(21009),n.e(820),n.e(53230)]).then(n.bind(n,155525))).showIrsFormNotification(e,t)}(o,e)}clear(){clearTimeout(this._timeoutId)}static getInstance(){return a._instance||(a._instance=new a),a._instance}}function o(e){return a.getInstance().show(e,Promise.resolve)}},18493:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PayoutHistoryType:()=>r,PartnerAPI:()=>c,getPartnerDetails:()=>h});const i=window.initData.tvPartnersHost,s=`${i}/api/v1`;var a,o,r,c;function l(e){return`${s}${e}/`}function u(e,t,n,i){let s=l(e);return t&&!n&&(s=l(`${e}/${t}`)),t&&n&&(s=l(`${e}/${t}/${n}`)),i&&(s+=`?sort=${i}`),s}async function d(e,t,n){const i={method:e,credentials:"include"};return i.headers=new Headers,i.headers.set("Content-Type","application/json"),i.headers.set("Accept","application/json"),void 0!==n&&(i.body=JSON.stringify(n)),fetch(t,i).then((e=>e.json())).then((e=>{if(e.error)throw new Error(e.error);return e}))}async function h(){const e={method:"GET"};return e.headers=new Headers,e.headers.set("Content-Type","application/json"),fetch("/partners/details/").then((e=>e.json()))}!function(e){e.Paypal="paypal"}(a||(a={})),function(e){e.USD="usd"}(o||(o={})),function(e){e.Pending="pending",e.Completed="completed",e.DjangoError="django_eror",e.PayoutError="payout_error"}(r||(r={})),function(e){e.isPartner=async function(){return d("GET",l("/is-partner"))},e.createPartner=async function(e){return d("POST",l("/partner"),e)},e.getStats=async function(e,t,n){return d("GET",u("/stats",e,t,n))},e.getReport=async function(e,t){return d("GET",u("/report",e,t))},e.getReportCSV=async function(e,t){return d("GET",u("/report-csv",e,t))},e.getHistory=async function(){return d("GET",l("/history"))},e.getConversionReport=async function(e,t){return d("GET",u("/conversion-report",e,t))},e.getSettings=async function(){return d("GET",l("/settings"))},e.postSettings=async function(e){return d("POST",l("/settings"),e)},e.addClick=async function(e){return d("POST",`${i}/analytics/`,e)},e.postIRSForm=async function(e){const t=l("/irs-form"),n=new FormData;n.append("form",e);const i=new Headers({accept:"application/json"});return fetch(t,{method:"POST",credentials:"include",headers:i,body:n}).then((e=>e.json()))}}(c||(c={}))}}]);